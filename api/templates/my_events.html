{% extends "base.html" %}

{% block page_content %}
<div class="jumbotron">
    <div class="container">
        <h1 class="display-3">My Events</h1> 
        <p>See your upcoming and past events</p> 
    </div>
</div>

<div class="container">
    {% if not events.upcoming and not events.past %}
        <h3>You have no events</h3>
        <h6>Head to the <a href="/events">events page</a> to join events</h6>
    {% endif %}

    {% if events.upcoming or events.past %}

        <h3 class="row">Upcoming</h3>
        {% if not events.upcoming %}
            <h6 class="row">You have no upcoming events</h6>
        {% endif %}

        {% if events.upcoming %}
            <div class="list-group list-group-flush row">
                <div class="list-group-item list-group-item-info col-sm-12">
                    <div class="row">
                        <span class="col-sm-4">Name</span>
                        <span class="col-sm-4">Venue</span>
                        <span class="col-sm-4">Date & Time</span>
                    </div>
                </div>
                {% for event in events.upcoming %}
                <a href="/events/{{ event.id }}" class="list-group-item list-group-item-action col-sm-12">
                    <div class="row">
                        <span class="col-sm-4">{{ event.name|title }}</span>
                        <span class="col-sm-4">{{event.venue|title}}</span>
                        <span class="col-sm-4">{{ event.datetime }}</span>
                    </div>
                    <small>{{ event.description | slice:":100" }}</small>
                </a>
                {% endfor %}
            </div>
        {% endif %}

        <div class="mt-5"></div>

        <h3 class="row">Past</h3>
        {% if not events.past %}
            <h6 class="row">You have no past events</h6>
        {% endif %}

        {% if events.past %}
            <div class="list-group list-group-flush row">
                <div class="list-group-item list-group-item-info col-sm-12">
                    <div class="row">
                        <span class="col-sm-4">Name</span>
                        <span class="col-sm-4">Venue</span>
                        <span class="col-sm-4">Date & Time</span>
                    </div>
                </div>
                {% for event in events.past %}
                <a href="/events/{{ event.id }}" class="list-group-item list-group-item-action col-sm-12">
                    <div class="row">
                        <span class="col-sm-4">{{ event.name|title }}</span>
                        <span class="col-sm-4">{{event.venue|title}}</span>
                        <span class="col-sm-4">{{ event.datetime }}</span>
                    </div>
                    <small>{{ event.description | slice:":100" }}</small>
                </a>
                {% endfor %}
            </div>
        {% endif %}

    {% endif %}
</div>
{% endblock %}